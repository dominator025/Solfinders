<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sacred Storytelling - Digital Medicine</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <style>
        .story-container {
            max-width: 800px;
            margin: 2rem auto;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(107, 142, 90, 0.05) 100%);
            padding: 2rem;
            border-radius: var(--border-radius);
            border-left: 5px solid var(--accent-color);
        }

        .story-title {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .story-source {
            color: var(--accent-color);
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .story-content {
            line-height: 2;
            color: var(--text-dark);
            font-size: 1.05rem;
            margin: 2rem 0;
        }

        .story-content p {
            margin-bottom: 1.5rem;
        }

        .story-wisdom {
            background: linear-gradient(135deg, rgba(196, 30, 58, 0.1) 0%, rgba(212, 175, 55, 0.1) 100%);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 2rem;
            border-left: 4px solid var(--gold);
        }

        .story-wisdom h3 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .story-wisdom p {
            color: var(--text-dark);
            font-style: italic;
        }

        .emotions-triggered {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .emotion-tag {
            background: var(--secondary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .story-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .story-preview {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border: 2px solid transparent;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .story-preview:hover {
            border-color: var(--accent-color);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .story-preview h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .story-preview p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .read-button {
            background: linear-gradient(135deg, var(--sage) 0%, var(--primary-color) 100%);
            color: white;
            border: none;
            padding: 0.6rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .read-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .theme-selector {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .themes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .theme-button {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(107, 142, 90, 0.2) 100%);
            border: 2px solid transparent;
            padding: 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            color: var(--primary-color);
        }

        .theme-button:hover,
        .theme-button.active {
            border-color: var(--accent-color);
            background: linear-gradient(135deg, rgba(196, 30, 58, 0.2) 0%, rgba(212, 175, 55, 0.2) 100%);
        }

        .journaling-section {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(107, 142, 90, 0.05) 100%);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
        }

        .journal-prompt {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--gold);
        }

        .journal-prompt h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .journal-textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border: 2px solid var(--secondary-color);
            border-radius: 8px;
            font-family: inherit;
            resize: vertical;
            margin-top: 1rem;
        }

        .save-journal-button {
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--primary-color) 100%);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <span class="logo-icon">üïâÔ∏è</span>
                <span class="logo-text">Digital Medicine</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="index.html#about" class="nav-link">About</a></li>
                <li><a href="index.html#features" class="nav-link">Features</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Sacred Storytelling</h1>
            <p class="hero-subtitle">Wisdom Tales for Emotional Healing</p>
            <p class="hero-description">For 2,500 years, Panchatantra and Jataka tales have guided seekers toward emotional wisdom and spiritual growth. Our AI-powered storytelling engine personalizes these timeless narratives to your unique healing journey.</p>
        </div>
    </section>

    <!-- About the Stories -->
    <section class="features">
        <div class="container">
            <h2>Ancient Stories, Modern Applications</h2>
            <p style="text-align: center; max-width: 800px; margin: 0 auto 3rem; font-size: 1.1rem; color: var(--text-light);">
                These aren't just tales‚Äîthey're maps of the human psyche. Each story addresses universal challenges and offers wisdom that transcends time.
            </p>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìñ</div>
                    <h3>Panchatantra Tales</h3>
                    <p>A collection of animal fables that teach practical wisdom about relationships, decisions, and human nature. Perfect for navigating social and personal challenges.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üïØÔ∏è</div>
                    <h3>Jataka Tales</h3>
                    <p>Stories of past incarnations of the Buddha showing how virtue, compassion, and wisdom lead to liberation. Ideal for spiritual growth and ethical anchoring.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">‚ú®</div>
                    <h3>AI-Personalized Narratives</h3>
                    <p>Our AI analyzes your emotional state and delivers stories tailored to your current life circumstances. Each story feels personally relevant.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üí≠</div>
                    <h3>Reflective Prompts</h3>
                    <p>After each story, guided journaling prompts help you integrate the wisdom and apply it to your unique situation.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üå±</div>
                    <h3>Emotional Themes</h3>
                    <p>Stories organized by emotional landscapes: grief, joy, courage, compassion, transformation, and transcendence.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üìö</div>
                    <h3>Growing Library</h3>
                    <p>Access hundreds of stories, continuously expanded with new variations and AI-generated modern interpretations of ancient tales.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Story Selection by Theme -->
    <section class="how-it-works">
        <div class="container">
            <h2>Choose Your Healing Theme</h2>
            <p style="text-align: center; color: var(--text-light); margin-bottom: 2rem;">Select the theme that resonates with your current emotional needs.</p>
            
            <div class="theme-selector">
                <div style="text-align: center;">
                    <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">What wisdom do you seek today?</h3>
                </div>
                <div class="themes-grid">
                    <button class="theme-button" onclick="filterByTheme('compassion')">üíö Compassion</button>
                    <button class="theme-button" onclick="filterByTheme('courage')">‚ö° Courage</button>
                    <button class="theme-button" onclick="filterByTheme('loss')">üåô Loss & Grief</button>
                    <button class="theme-button" onclick="filterByTheme('wisdom')">üß† Wisdom</button>
                    <button class="theme-button" onclick="filterByTheme('love')">‚ù§Ô∏è Love & Connection</button>
                    <button class="theme-button" onclick="filterByTheme('transformation')">ü¶ã Transformation</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Story Display -->
    <section class="problem-section">
        <div class="container">
            <h2>Today's Featured Stories</h2>
            
            <div class="story-selector" id="storyGrid">
                <!-- Populated by JavaScript -->
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <button class="cta-button" onclick="getRandomStory()">Get a Random Story</button>
            </div>
        </div>
    </section>

    <!-- Story Display Area -->
    <section id="storyDisplaySection" style="display: none;">
        <div class="container">
            <div id="storyDisplay" class="story-container">
                <!-- Story will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Journaling Section -->
    <section class="journaling-section" id="journalingSection" style="display: none;">
        <div class="container">
            <h2>Reflect & Integrate</h2>
            
            <div class="journal-prompt">
                <h4 id="journalPrompt">What resonated with you in this story?</h4>
                <textarea class="journal-textarea" id="journalEntry" placeholder="Your reflections..."></textarea>
                <button class="save-journal-button" onclick="saveJournalEntry()">Save to My Journal</button>
            </div>

            <div style="margin-top: 2rem;">
                <button class="cta-button" onclick="getRandomStory()">Read Another Story</button>
            </div>
        </div>
    </section>

    <!-- How AI Personalization Works -->
    <section class="features">
        <div class="container">
            <h2>How AI Personalization Works</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
                <div class="feature-card">
                    <h3>üéØ 1. Intent Recognition</h3>
                    <p>We assess your current emotional state and life challenges through your selections and input.</p>
                </div>
                <div class="feature-card">
                    <h3>üìä 2. Story Matching</h3>
                    <p>Our AI matches your needs with stories from our vast library that address similar themes.</p>
                </div>
                <div class="feature-card">
                    <h3>‚úçÔ∏è 3. Personalized Perspective</h3>
                    <p>The AI generates unique variations and interpretations of classical tales tailored to you.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Impact & Benefits -->
    <section class="testimonials">
        <div class="container">
            <h2>The Healing Power of Stories</h2>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <p class="testimonial-text">"I found the exact story I needed without knowing I needed it. It felt like the AI was reading my soul."</p>
                    <p class="testimonial-author">‚Äî Sanjay, Mumbai</p>
                </div>
                <div class="testimonial-card">
                    <p class="testimonial-text">"These ancient tales made me realize I've been making the same mistakes for years. The wisdom hit different this time."</p>
                    <p class="testimonial-author">‚Äî Rachel, London</p>
                </div>
                <div class="testimonial-card">
                    <p class="testimonial-text">"The journaling after each story helped me process grief I've been carrying for years. True therapy."</p>
                    <p class="testimonial-author">‚Äî Dr. Vikram, Toronto</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta-section">
        <div class="container">
            <h2>Let Stories Heal You</h2>
            <p>Start with one story today. Discover how ancient wisdom addresses your modern challenges.</p>
            <button class="cta-button-large" onclick="getRandomStory()">Read Your First Story</button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Digital Medicine. Transforming Ancient Wisdom into Modern Healing.</p>
        </div>
    </footer>

    <!-- Modal -->
    <div id="sessionModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script>
        // Extended story library
        const storyLibrary = [
            {
                title: 'The Monkey and the Crocodile',
                source: 'Panchatantra Tales',
                theme: 'wisdom',
                emotions: ['caution', 'cleverness', 'trust'],
                content: `Once, a clever monkey lived in a mango tree on a river bank. A crocodile befriended him, and the monkey would share mangoes daily. But when the crocodile's wife desired the monkey's heart, he grew suspicious.

The wise monkey said, "My heart is in the tree, not in my chest! Let me retrieve it." When the crocodile realized the deception, the monkey was already safe in the high branches.

The crocodile, ashamed of his greed and treachery, could never harm the monkey again.`,
                wisdom: `Intelligence and quick thinking can overcome physical strength. More importantly, true friendship is never built on deception. Trust your instincts when something feels wrong.`
            },
            {
                title: 'The Golden Goose',
                source: 'Panchatantra Tales',
                theme: 'transformation',
                emotions: ['greed', 'patience', 'abundance'],
                content: `A couple found a goose that laid one golden egg each day. Their fortune grew daily, and they were blessed with abundance. Yet greed consumed them.

"Why wait?" they said. "Let us cut open the goose and take all the gold at once!" They did, only to find the goose was ordinary inside. The eggs ceased, their fortune ended, and they were left with nothing but regret.

The goose had been their greatest gift, but impatience destroyed it.`,
                wisdom: `Greed destroys abundance. Patience and gratitude transform life into endless blessings. The richest life is not won through force but cultivated through wisdom and trust in the process.`
            },
            {
                title: 'The Four Friends',
                source: 'Panchatantra Tales',
                theme: 'compassion',
                emotions: ['unity', 'friendship', 'strength'],
                content: `Once, four friends‚Äîa deer, a bird, a tortoise, and a mouse‚Äîlived together in the forest and loved each other dearly. When the deer was caught in a hunter's trap, all four worked together to free him.

Each friend contributed according to their strength: the bird brought news, the mouse gnawed the rope, and the tortoise distracted the hunter. Their combined efforts succeeded where any single effort would have failed.`,
                wisdom: `True friendship means unity despite differences. Together, we overcome even the greatest obstacles. Our weaknesses become strengths when supported by community and love.`
            },
            {
                title: 'The Two Pots',
                source: 'Jataka Tales',
                theme: 'acceptance',
                emotions: ['humility', 'peace', 'purpose'],
                content: `A potter made two pots‚Äîone of gold and one of clay. Both were filled with water to cross the river. The golden pot floated magnificently, admired by all.

The clay pot sank to the bottom. Yet it fulfilled its purpose perfectly, carrying water and nourishing the earth. As it dissolved, it returned to the earth from which it came.

"It is my nature," said the clay pot humbly, "to return to earth. Do not grieve, for my purpose is fulfilled."`,
                wisdom: `Acceptance of our nature brings peace. Our limitations are not failures; they are truths to embrace. Purpose is found not in greatness but in the fulfillment of our dharma.`
            },
            {
                title: 'The Grateful Crane',
                source: 'Jataka Tales',
                theme: 'love',
                emotions: ['gratitude', 'kindness', 'sacrifice'],
                content: `A small mouse was saved by a crane from a predator. Over time, they became the dearest of friends, despite their differences. When a hunter set a trap for the crane, the mouse gnawed away the net, risking the hunter's wrath.

The crane realized that kindness, no matter how small the recipient, returns multiplied by gratitude. The mouse had become his greatest protector.`,
                wisdom: `Kindness to the humble creates powerful allies. Never judge worth by size or status. The smallest act of compassion can blossom into boundless grace.`
            },
            {
                title: 'The Lion and the Mouse',
                source: 'Panchatantra Tales',
                theme: 'courage',
                emotions: ['bravery', 'humility', 'justice'],
                content: `A mighty lion was caught in a hunter's net. He roared with fury and pain. A small mouse heard his cries and, though terrified, approached the great beast.

"I will help you," said the mouse. The lion laughed‚Äîhow could a tiny mouse help him? But the mouse began gnawing the net, strand by strand, until the lion was free.

The lion bowed to the mouse. "The smallest among us can carry the greatest courage."`,
                wisdom: `Never underestimate the power of courage, regardless of size. Humility opens us to help from unexpected sources. We are all interconnected in the web of existence.`
            },
            {
                title: 'The Merchant and the Thieves',
                source: 'Jataka Tales',
                theme: 'wisdom',
                emotions: ['discernment', 'compassion', 'truth'],
                content: `A kind merchant was robbed by thieves who were starving. Instead of calling for justice, he fed them and asked why they had turned to theft.

They explained their desperation. The merchant hired them as workers and paid them well. Years later, they became his most trusted employees.

The merchant understood that crime is often born from suffering, not evil.`,
                wisdom: `True wisdom sees the person beyond the action. Compassion and understanding heal what punishment cannot. The world transforms when we address root causes, not symptoms.`
            },
            {
                title: 'The Brahmin and the Three Thieves',
                source: 'Panchatantra Tales',
                theme: 'loss',
                emotions: ['resilience', 'perspective', 'growth'],
                content: `A poor Brahmin possessed only a wooden bowl. Three thieves saw it and plotted to steal it. They each approached him, claiming the bowl had magical properties.

The Brahmin realized the bowl had no power except that he gave it power through attachment. He tossed it to the thieves. The moment he let go, he felt free.

Without possessions to defend, he was the richest man in the kingdom.`,
                wisdom: `Loss is often liberation in disguise. Attachment causes suffering; freedom comes through authentic surrender. What we cling to controls us; what we release frees us.`
            }
        ];

        // Initialize story grid
        function initStoryGrid() {
            const grid = document.getElementById('storyGrid');
            grid.innerHTML = '';
            storyLibrary.forEach((story, index) => {
                const preview = document.createElement('div');
                preview.className = 'story-preview';
                preview.innerHTML = `
                    <h4>${story.title}</h4>
                    <p>${story.source}</p>
                    <button class="read-button" onclick="displayStory(${index})">Read Story</button>
                `;
                grid.appendChild(preview);
            });
        }

        function displayStory(index) {
            const story = storyLibrary[index];
            const storyDisplay = document.getElementById('storyDisplay');
            const storySection = document.getElementById('storyDisplaySection');
            const journalSection = document.getElementById('journalingSection');
            
            storyDisplay.innerHTML = `
                <h2 class="story-title">${story.title}</h2>
                <p class="story-source">From: ${story.source}</p>
                <div class="story-content">
                    ${story.content.split('\n').map(p => `<p>${p}</p>`).join('')}
                </div>
                <div class="story-wisdom">
                    <h3>‚ú® The Wisdom</h3>
                    <p>${story.wisdom}</p>
                </div>
                <div class="emotions-triggered">
                    <strong style="grid-column: 1 / -1; color: var(--primary-color); margin-bottom: -0.5rem;">Themes Explored:</strong>
                    ${story.emotions.map(e => `<span class="emotion-tag">${e}</span>`).join('')}
                </div>
            `;
            
            storySection.style.display = 'block';
            journalSection.style.display = 'block';
            
            // Set journal prompt
            const prompts = [
                `How does "${story.title}" reflect your current life situation?`,
                `What character from this story do you identify with most?`,
                `What action will you take based on the wisdom you just read?`,
                `How can you apply this story's lesson to your challenges?`,
                `What emotion did this story evoke in you, and why?`
            ];
            document.getElementById('journalPrompt').textContent = prompts[Math.floor(Math.random() * prompts.length)];
            document.getElementById('journalEntry').value = '';
            
            // Scroll to story
            storySection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function getRandomStory() {
            const randomIndex = Math.floor(Math.random() * storyLibrary.length);
            displayStory(randomIndex);
        }

        function filterByTheme(theme) {
            const filtered = storyLibrary.filter(story => story.theme === theme);
            const grid = document.getElementById('storyGrid');
            grid.innerHTML = '';
            
            if (filtered.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-light);">No stories found for this theme.</p>';
                return;
            }
            
            filtered.forEach((story, index) => {
                const originalIndex = storyLibrary.indexOf(story);
                const preview = document.createElement('div');
                preview.className = 'story-preview';
                preview.innerHTML = `
                    <h4>${story.title}</h4>
                    <p>${story.source}</p>
                    <button class="read-button" onclick="displayStory(${originalIndex})">Read Story</button>
                `;
                grid.appendChild(preview);
            });
            
            grid.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function saveJournalEntry() {
            const entry = document.getElementById('journalEntry').value;
            if (entry.trim()) {
                let journal = JSON.parse(localStorage.getItem('myJournal') || '[]');
                journal.push({
                    date: new Date().toLocaleString(),
                    entry: entry
                });
                localStorage.setItem('myJournal', JSON.stringify(journal));
                alert('‚ú® Your reflection has been saved to your personal journal!');
                document.getElementById('journalEntry').value = '';
            }
        }

        function closeModal() {
            document.getElementById('sessionModal').style.display = 'none';
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initStoryGrid);
    </script>
</body>
</html>
